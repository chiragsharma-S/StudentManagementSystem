{% extends "base.html" %}
{% block content %}
<h2>Attendance for {{ student.name }} ({{ student.roll_no }})</h2>

<div class="row g-3 mb-3">
    <div class="col-md-3">
        <div class="card shadow-sm border-0">
            <div class="card-body text-center">
                <h4 class="fw-bold mb-1">{{ total }}</h4>
                <p class="text-muted mb-0">Total Days</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow-sm border-0">
            <div class="card-body text-center">
                <h4 class="fw-bold text-success mb-1">{{ presents }}</h4>
                <p class="text-muted mb-0">Present</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow-sm border-0">
            <div class="card-body text-center">
                <h4 class="fw-bold text-danger mb-1">{{ absents }}</h4>
                <p class="text-muted mb-0">Absent</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow-sm border-0">
            <div class="card-body text-center">
                <h4 class="fw-bold mb-1">{{ percent }}%</h4>
                <p class="text-muted mb-0">Attendance %</p>
            </div>
        </div>
    </div>
</div>

{% if records|length == 0 %}
    <p>No attendance records yet for this student.</p>
{% else %}
<table class="table table-striped table-bordered bg-white shadow-sm">
    <thead class="table-light">
        <tr>
            <th>Date</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
    {% for r in records %}
        <tr>
            <td>{{ r.date }}</td>
            <td class="{% if r.status == 'Present' %}text-success{% else %}text-danger{% endif %}">
                {{ r.status }}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}

<a href="{{ url_for('students') }}" class="btn btn-secondary mt-2">Back to Students</a>
{% endblock %}
